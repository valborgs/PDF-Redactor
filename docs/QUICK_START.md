# PDF Mask 빠른 시작 가이드

## 🚀 5분 안에 시작하기

### 1단계: 프로젝트 확인

현재 디렉터리에 있는지 확인:
```bash
pwd  # 또는 Windows에서 cd
# 출력: D:\comon\pdfmask (또는 프로젝트 경로)
```

### 2단계: 의존성 설치 (이미 완료된 경우 스킵)

```bash
uv sync
```

### 3단계: 프로그램 실행

```bash
# 방법 1: 직접 실행 (권장)
uv run python src/main.py

# 방법 2: 스크립트로 실행
uv run pdfmask
```

### 4단계: 라이선스 인증

프로그램이 실행되면 라이선스 입력 다이얼로그가 표시됩니다.

**테스트 시리얼 번호**:
- `TEST-1234-5678-ABCD`
- `DEMO-0000-0000-0001`

둘 중 하나를 입력하고 "인증" 버튼을 클릭하세요.

### 5단계: PDF 열기

1. 상단 툴바에서 "PDF 열기" 또는 "폴더 열기" 클릭
2. 또는 단축키: `Ctrl+O` (파일), `Ctrl+Shift+O` (폴더)

### 6단계: 마스킹 작업

1. **마스킹 영역 선택**: `Ctrl` 키를 누른 상태에서 마우스로 드래그
2. **메모 추가** (선택사항): 왼쪽 리스트에서 "메모" 셀을 더블클릭하여 편집
3. **마스킹 삭제** (필요시): 항목 선택 후 `Del` 키

### 7단계: 저장

1. `Ctrl+S` 키를 누르거나 메뉴에서 "저장" 선택
2. 확인 다이얼로그에서 "예" 클릭
3. 백업이 자동으로 생성됩니다 (`backup/YYYYMMDD/`)

---

## 🎯 주요 단축키

| 단축키 | 기능 |
|--------|------|
| `Ctrl+O` | PDF 파일 열기 |
| `Ctrl+Shift+O` | 폴더 열기 |
| `Ctrl+S` | 마스킹 저장 |
| `Ctrl+드래그` | 마스킹 영역 선택 |
| `Ctrl+휠` | 확대/축소 |
| `←` / `→` | 이전/다음 페이지 |
| `Del` | 선택된 마스킹 삭제 |
| `더블클릭` | 메모 편집 |

---

## 📁 자동 생성 파일 위치

프로그램을 사용하면 다음 폴더와 파일이 자동으로 생성됩니다:

```
pdfmask/
├── backup/                    # 원본 PDF 백업
│   └── 20251119/*.pdf
├── masks_data/                # 마스킹 데이터 (JSON)
│   └── mask_data_20251119.json
├── logs/                      # 로그 파일
│   └── pdfmask_20251119.log
├── progress.json              # 진행 상황 (폴더 작업 시)
└── .license                   # 라이선스 파일
```

---

## ⚠️ 문제 해결

### "Permission denied" 오류

**원인**: PDF 파일이 다른 프로그램에서 열려있음

**해결**:
1. Adobe Reader, 웹 브라우저 등에서 PDF 파일 닫기
2. 다시 저장 시도

### 마스킹 드래그가 안됨

**원인**: `Ctrl` 키를 누르지 않음

**해결**: `Ctrl` 키를 누른 상태에서 드래그

### 확대/축소가 안됨

**원인**: `Ctrl` 키를 누르지 않음

**해결**: `Ctrl` 키를 누른 상태에서 마우스 휠 사용

### 라이선스 인증 실패

**원인**: 잘못된 시리얼 번호

**해결**: 테스트 시리얼 번호 사용
- `TEST-1234-5678-ABCD`
- `DEMO-0000-0000-0001`

---

## 📚 더 알아보기

### 사용자용 문서
- **[README.md](README.md)**: 전체 사용자 가이드

### 개발자용 문서
- **[SPECIFICATION.md](SPECIFICATION.md)**: 기능 명세서
- **[ARCHITECTURE.md](ARCHITECTURE.md)**: 아키텍처 문서
- **[PROJECT_SUMMARY.md](PROJECT_SUMMARY.md)**: 프로젝트 요약
- **[REFACTORING_SUMMARY.md](REFACTORING_SUMMARY.md)**: 리팩토링 요약

---

## 🎓 사용 예시

### 예시 1: 단일 PDF 파일 마스킹

1. `Ctrl+O`로 PDF 파일 열기
2. `Ctrl+드래그`로 민감 정보 영역 선택
3. 메모 추가 (예: "주민번호", "전화번호")
4. `Ctrl+S`로 저장

### 예시 2: 폴더 내 여러 PDF 일괄 처리

1. `Ctrl+Shift+O`로 폴더 열기
2. 첫 번째 PDF에서 마스킹 작업
3. `Ctrl+S`로 저장
4. "다음 파일 열기" 확인 → 반복

### 예시 3: 작업 중단 후 재개

1. 폴더 작업 중 프로그램 종료
2. 다시 프로그램 실행
3. 같은 폴더 열기 (`Ctrl+Shift+O`)
4. "이어서 작업하시겠습니까?" → "예" 클릭
5. 중단된 지점부터 계속 작업

---

## 🎨 UI 구성 이해하기

```
┌───────────────────────────────────────────────┐
│ [PDF 열기] [폴더 열기]  메뉴바                  │
├──────────┬─────────────────┬──────────────────┤
│ 마스킹   │  PDF 뷰어       │  파일 목록       │
│ 리스트   │  (회색 배경)     │                  │
│          │  ┌───────────┐  │  ✓ file1.pdf     │
│ 페이지|메모│  │ PDF 내용 │  │    file2.pdf     │
│ 1 | 주민번호│  │ (흰색)   │  │    file3.pdf     │
│ 1 | 전화번호│  └───────────┘  │                  │
├──────────┴─────────────────┴──────────────────┤
│ 페이지: 1/10 | 확대: 100% | Ctrl+드래그...     │
└───────────────────────────────────────────────┘
```

**왼쪽**: 생성된 마스킹 목록 (페이지 번호, 메모)  
**가운데**: PDF 페이지 표시 (드래그로 마스킹 선택)  
**오른쪽**: 폴더 내 PDF 파일 목록  
**하단**: 상태 표시줄 (페이지 정보, 줌 레벨)

---

## 💡 팁

### 1. 백업 활성화/비활성화

메뉴: `설정` → `PDF 백업 활성화` (체크 토글)

**권장**: 항상 활성화 (기본값)

### 2. 빠른 페이지 이동

- `←` / `→`: 한 페이지씩 이동
- `PageUp` / `PageDown`: 한 페이지씩 이동

### 3. 효율적인 마스킹

1. 같은 페이지에 여러 영역을 마스킹 가능
2. 메모를 추가하면 나중에 확인 용이
3. 잘못 선택한 경우 `Del` 키로 삭제 후 재선택

### 4. 작업 이력 확인

- **JSON 로그**: `masks_data/mask_data_YYYYMMDD.json`
- **엑셀 파일**: 저장 시 자동 생성 (`마스킹_작업내역_YYYYMMDD.xlsx`)
- **상세 로그**: `logs/pdfmask_YYYYMMDD.log`

---

## 🔍 자주 묻는 질문 (FAQ)

### Q1: 마스킹한 내용을 되돌릴 수 있나요?

**A**: 아니요. PyMuPDF Redaction은 원본 데이터를 완전히 삭제합니다.  
**해결**: 백업 기능을 활성화하면 원본 PDF가 `backup/` 폴더에 자동 저장됩니다.

### Q2: 엑셀 파일은 어디에 저장되나요?

**A**: 마스킹한 PDF와 같은 폴더에 `마스킹_작업내역_YYYYMMDD.xlsx` 파일이 생성됩니다.

### Q3: 폴더 작업 중 프로그램이 종료되면 어떻게 되나요?

**A**: `progress.json` 파일에 진행상황이 저장됩니다. 다시 같은 폴더를 열면 이어서 작업할 수 있습니다.

### Q4: 라이선스를 재인증하려면?

**A**: 프로젝트 루트의 `.license` 파일을 삭제하고 프로그램을 다시 실행하세요.

### Q5: 로그 파일이 너무 많아요

**A**: `logs/` 폴더의 오래된 로그 파일을 수동으로 삭제하셔도 됩니다. 일자별로 관리됩니다.

---

## 🎉 첫 작업 완료!

축하합니다! PDF Mask를 성공적으로 사용하셨습니다.

더 많은 기능과 자세한 설명은 [README.md](README.md)를 참조하세요.

---

**PDF Mask v1.5** - 빠르고 안전한 PDF 개인정보 마스킹 솔루션

